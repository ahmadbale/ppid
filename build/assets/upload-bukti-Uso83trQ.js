import{m as l}from"./module.esm-uXcmRlT3.js";window.Alpine=l;document.addEventListener("DOMContentLoaded",()=>{l.start()});document.addEventListener("alpine:init",()=>{l.data("multiUploadHandler",()=>({dragging:!1,fileList:[],errorMessage:"",uploading:!1,uploadProgress:0,totalSize:0,maxFileCount:5,maxTotalSize:100*1024*1024,handleDrop(e){this.dragging=!1;const t=e.dataTransfer.files;this.processFileSelection(t)},handleFileSelect(e){const t=e.target.files;this.processFileSelection(t),e.target.value=""},processFileSelection(e){if(e.length===0)return;if(this.errorMessage="",this.fileList.length+e.length>this.maxFileCount){this.errorMessage=`Maksimum ${this.maxFileCount} file diperbolehkan. Anda mencoba menambahkan ${e.length} file lagi.`;return}let t=this.totalSize;for(let i=0;i<e.length;i++)t+=e[i].size;if(t>this.maxTotalSize){this.errorMessage=`Total ukuran file melebihi batas 100MB. Saat ini: ${this.formatSize(t)}`;return}for(let i=0;i<e.length;i++){const a=e[i];this.fileList.push(a),this.totalSize+=a.size}},removeFile(e){this.totalSize-=this.fileList[e].size,this.fileList.splice(e,1)},clearAllFiles(){this.fileList=[],this.totalSize=0},formatSize(e){if(e===0)return"0 Bytes";const t=1024,i=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+i[a]},uploadFiles(){if(this.fileList.length===0){this.errorMessage="Tidak ada file yang dipilih untuk diupload.";return}this.uploading=!0,this.uploadProgress=0;const e=new FormData;this.fileList.forEach((i,a)=>{e.append(`file${a}`,i)});let t=setInterval(()=>{this.uploadProgress+=5,this.uploadProgress>=100&&(clearInterval(t),setTimeout(()=>{this.uploading=!1,alert("Semua file berhasil diupload!"),this.clearAllFiles()},1e3))},200)}}))});
